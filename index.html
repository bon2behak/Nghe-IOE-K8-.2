
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOE K8 - NGHE C·∫§P HUY·ªÜN (60 C√ÇU)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <style>
      body { font-family: 'Nunito', sans-serif; scroll-behavior: smooth; }
      .custom-scrollbar::-webkit-scrollbar { width: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
      
      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
      .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
      
      .glass-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      .answer-underline {
        text-decoration-color: #fca5a5;
        text-decoration-thickness: 4px;
        text-underline-offset: 4px;
      }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const QuestionType = {
            MC: 'MULTIPLE_CHOICE',
            FIB: 'FILL_IN_BLANK'
        };

        const QUIZ_DATA = [
            // --- B·ªò ƒê·ªÄ 1 ---
            { id: "1-16", type: QuestionType.FIB, text: "There aren‚Äôt any _ _ _ _ _ at all in the village where we used to live.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_42.mp3", answer: "buses", explain: "Buses: Xe bu√Ωt (s·ªë nhi·ªÅu).", translation: "Xe bu√Ωt" },
            { id: "1-19", type: QuestionType.FIB, text: "People are open, plain and _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_35.mp3", answer: "frank", explain: "Frank: Th·∫≥ng th·∫Øn, th√†nh th·∫≠t.", translation: "Th·∫≥ng th·∫Øn" },
            { id: "1-24", type: QuestionType.FIB, text: "Would you like to p_ _ _ _ a portrait of me?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s1.mp3", answer: "aint", explain: "Paint: V·∫Ω ch√¢n dung (ƒêi·ªÅn 'aint').", translation: "V·∫Ω (ch√¢n dung)" },
            { id: "1-36", type: QuestionType.FIB, text: "Some el_ _ _ _ nts live in the mountains.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s8.mp3", answer: "epha", explain: "Elephants: Nh·ªØng con voi (ƒêi·ªÅn 'epha').", translation: "Nh·ªØng con voi" },
            { id: "1-51", type: QuestionType.FIB, text: "My father uses YouTube to watch _ _ _ _ _ _ _ shows.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s6.mp3", answer: "cooking", explain: "Cooking shows: Ch∆∞∆°ng tr√¨nh n·∫•u ƒÉn.", translation: "N·∫•u ƒÉn" },
            { id: "1-54", type: QuestionType.FIB, text: "We are surrounded by green _ _ _ _ _ _ , flowers and trees.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_34.mp3", answer: "fields", explain: "Green fields: Nh·ªØng c√°nh ƒë·ªìng xanh.", translation: "C√°nh ƒë·ªìng" },
            { id: "1-74", type: QuestionType.FIB, text: "Lang Son province has 12 education centers offering _ _ _ _ _ _ language classes, mostly Tay and Nung.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_43.mp3", answer: "ethnic", explain: "Ethnic language: Ti·∫øng d√¢n t·ªôc thi·ªÉu s·ªë.", translation: "D√¢n t·ªôc" },
            { id: "1-78", type: QuestionType.MC, text: "The man's watch is ________.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_23.mp3", options: ["in the kitchen", "in the washing machine", "on the bed", "on the bath"], answer: "on the bath", explain: "Watch is on the bath: ƒê·ªìng h·ªì ·ªü tr√™n b·ªìn t·∫Øm.", translation: "V·ªã tr√≠ chi·∫øc ƒë·ªìng h·ªì" },
            { id: "1-88", type: QuestionType.FIB, text: "I'm enjoying a peaceful _ _ _ _ _ _ _ _ _ a lot more than the busy city life.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_21.mp3", answer: "lifestyle", explain: "Lifestyle: Phong c√°ch s·ªëng.", translation: "Phong c√°ch s·ªëng" },
            { id: "1-90", type: QuestionType.FIB, text: "Please _ _ _ _ off the fans when you go out.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s14.mp3", answer: "turn", explain: "Turn off: T·∫Øt ƒëi.", translation: "T·∫Øt (thi·∫øt b·ªã)" },
            { id: "1-110", type: QuestionType.FIB, text: "A festival adds structure to our social lives and connects us with our families and _ _ _ _ _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_92.mp3", answer: "backgrounds", explain: "Social backgrounds: N·ªÅn t·∫£ng x√£ h·ªôi/G·ªëc g√°c.", translation: "N·ªÅn t·∫£ng" },
            { id: "1-121", type: QuestionType.FIB, text: "My first lesson this morning was _ _ _ , and our teacher talked to us about Pablo Picasso.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s21.mp3", answer: "Art", explain: "Art: M√¥n M·ªπ thu·∫≠t.", translation: "M√¥n M·ªπ thu·∫≠t" },
            { id: "1-122", type: QuestionType.FIB, text: "If we're going the right way, we'll drive past the _ _ _ _ _ station soon.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s26.mp3", answer: "train", explain: "Train station: Ga t√†u h·ªèa.", translation: "T√†u h·ªèa" },
            { id: "1-123", type: QuestionType.FIB, text: "He's good at bu_ _ _ _ _ _ things.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s24.mp3", answer: "ilding", explain: "Building: X√¢y d·ª±ng (ƒêi·ªÅn 'ilding').", translation: "X√¢y d·ª±ng" },
            { id: "1-140", type: QuestionType.FIB, text: "The La Chi ethnic people in Nam Khanh commune have upheld a lot of traditional culture and production, including growing cotton and _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_108.mp3", answer: "weaving", explain: "Growing cotton and weaving: Tr·ªìng b√¥ng v√† d·ªát v·∫£i.", translation: "D·ªát v·∫£i" },
            { id: "1-154", type: QuestionType.FIB, text: "It was t_ _ _ _ _ degrees yesterday so it was much too hot inside.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s27.mp3", answer: "hirty", explain: "Thirty degrees: 30 ƒë·ªô (ƒêi·ªÅn 'hirty').", translation: "S·ªë 30" },
            { id: "1-169", type: QuestionType.FIB, text: "My parents will be at home the night I want my _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s25.mp3", answer: "party", explain: "Party: B·ªØa ti·ªác.", translation: "B·ªØa ti·ªác" },
            { id: "1-173", type: QuestionType.FIB, text: "One of the biggest problems we face is _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_106.mp3", answer: "garbage", explain: "Garbage: R√°c th·∫£i.", translation: "R√°c th·∫£i" },
            { id: "1-184", type: QuestionType.MC, text: "How many pandas were born?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_120.mp3", options: ["six", "twenty", "two", "twice"], answer: "two", explain: "Two: S·ªë 2.", translation: "Hai (s·ªë l∆∞·ª£ng)" },
            { id: "1-185", type: QuestionType.FIB, text: "The River Thames in London was one of the worst-_ _ _ _ _ _ _ _ rivers in the study.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_59.mp3", answer: "affected", explain: "Worst-affected: B·ªã ·∫£nh h∆∞·ªüng n·∫∑ng nh·∫•t.", translation: "B·ªã ·∫£nh h∆∞·ªüng" },

            // --- B·ªò ƒê·ªÄ 2 ---
            { id: "2-14", type: QuestionType.FIB, text: "She likes _ _ _ _ _ _ sports such as swimming and hiking.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_18.mp3", answer: "summer", explain: "Summer sports: Th·ªÉ thao m√πa h√®.", translation: "M√πa h√®" },
            { id: "2-15", type: QuestionType.FIB, text: "Would you like to p_ _ _ _ a portrait of me?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s1.mp3", answer: "aint", explain: "Paint: V·∫Ω (ƒêi·ªÅn 'aint').", translation: "V·∫Ω" },
            { id: "2-18", type: QuestionType.FIB, text: "Parents and children can spend time enjoying the same hobby and build a closer r_ _ _ _ _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_16.mp3", answer: "elationship", explain: "Relationship: M·ªëi quan h·ªá.", translation: "M·ªëi quan h·ªá" },
            { id: "2-19", type: QuestionType.FIB, text: "I don‚Äôt mind spending my free time alone _ _ _ _ _ _ _ or surfing the Internet.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_8.mp3", answer: "reading", explain: "Reading: ƒê·ªçc s√°ch.", translation: "ƒê·ªçc s√°ch" },
            { id: "2-25", type: QuestionType.FIB, text: "At the age of 80 he still remembers by heart several stories about the old Then m_ _ _ _ _ _ _ of the Tay.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_51.mp3", answer: "elodies", explain: "Melodies: Giai ƒëi·ªáu nh·∫°c Then.", translation: "Giai ƒëi·ªáu" },
            { id: "2-37", type: QuestionType.FIB, text: "Students learn reading and listening through topics and traditional _ _ _ _ _ _ _ and customs.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_44.mp3", answer: "culture", explain: "Traditional culture: VƒÉn h√≥a truy·ªÅn th·ªëng.", translation: "VƒÉn h√≥a" },
            { id: "2-45", type: QuestionType.FIB, text: "Lucy seldom has lunch at _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s11.mp3", answer: "home", explain: "At home: T·∫°i nh√†.", translation: "T·∫°i nh√†" },
            { id: "2-56", type: QuestionType.FIB, text: "People in my village are really _ _ _ _ -hearted.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s4.mp3", answer: "kind", explain: "Kind-hearted: T·ªët b·ª•ng.", translation: "T·ªët b·ª•ng" },
            { id: "2-67", type: QuestionType.FIB, text: "They have a _ _ _ _ cultural life with a number of age-old festivals and customs.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_48.mp3", answer: "rich", explain: "Rich cultural life: ƒê·ªùi s·ªëng vƒÉn h√≥a phong ph√∫.", translation: "Phong ph√∫" },
            { id: "2-99", type: QuestionType.FIB, text: "The man can't teach his classes because his _ _ _ _ is bad again.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_6.mp3", answer: "back", explain: "Back is bad: ƒêau l∆∞ng.", translation: "C√°i l∆∞ng" },
            { id: "2-104", type: QuestionType.FIB, text: "Before New Year‚Äôs day, people go shopping for food and drinks, repair the house or put up _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_88.mp3", answer: "decor", explain: "Put up decor: Trang tr√≠ ƒë·ªì ƒë·∫°c.", translation: "ƒê·ªì trang tr√≠" },
            { id: "2-114", type: QuestionType.FIB, text: "Village life is free from all rest_ _ _ _ _ _ of society.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_65.mp3", answer: "raints", explain: "Restraints of society: Nh·ªØng r√†ng bu·ªôc x√£ h·ªôi.", translation: "R√†ng bu·ªôc" },
            { id: "2-119", type: QuestionType.FIB, text: "I can't come. It's my _ _ _ _ _ _ 's birthday.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s23.mp3", answer: "sister", explain: "My sister's birthday.", translation: "Ch·ªã/em g√°i" },
            { id: "2-127", type: QuestionType.FIB, text: "What do people do to _ _ _ _ _ _ _ for the festival?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_87.mp3", answer: "prepare", explain: "Prepare: Chu·∫©n b·ªã.", translation: "Chu·∫©n b·ªã" },
            { id: "2-133", type: QuestionType.FIB, text: "We regularly organize field trips for students to _ _ _ _ _ _ _ _ _ _ _ with ethnic people to better understand their culture, customs, and habits.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_69.mp3", answer: "communicate", explain: "Communicate: Giao ti·∫øp.", translation: "Giao ti·∫øp" },
            { id: "2-151", type: QuestionType.FIB, text: "_ _ _ _ _ _ _ _ _ can join the festival.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_89.mp3", answer: "Everybody", explain: "Everybody can join.", translation: "M·ªçi ng∆∞·ªùi" },
            { id: "2-164", type: QuestionType.FIB, text: "If there's a problem, I'm called from my of_ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s23.mp3", answer: "fice", explain: "Office: VƒÉn ph√≤ng (ƒêi·ªÅn 'fice').", translation: "VƒÉn ph√≤ng" },
            { id: "2-179", type: QuestionType.FIB, text: "New Year‚Äôs day is a chance for family _ _ _ _ _ _ _ and parties.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_84.mp3", answer: "reunion", explain: "Family reunion: Sum h·ªçp gia ƒë√¨nh.", translation: "S·ª± sum h·ªçp" },
            { id: "2-184", type: QuestionType.MC, text: "What does Lara do in her free time?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_112.mp3", options: ["cooking", "gardening", "painting", "both B and C"], answer: "both B and C", explain: "Lara likes gardening and painting.", translation: "Ho·∫°t ƒë·ªông r·∫£nh r·ªói" },
            { id: "2-191", type: QuestionType.MC, text: "The stonecutter wishes he would be a ____.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_118.mp3", options: ["poor servant", "rich man", "powerful king", "prince"], answer: "prince", explain: "The stonecutter wishes to be a prince.", translation: "ƒêi·ªÅu ∆∞·ªõc" },

            // --- B·ªò ƒê·ªÄ 3 ---
            { id: "3-3", type: QuestionType.FIB, text: "Bonfire Night is celebrated on _ _ _ _ _ _ _ _ 5.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_52.mp3", answer: "november", explain: "Bonfire Night is November 5.", translation: "Th√°ng 11" },
            { id: "3-4", type: QuestionType.FIB, text: "I grew up in the country in a very small farm and it was kind of _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_22.mp3", answer: "boring", explain: "Boring: Nh√†m ch√°n.", translation: "Nh√†m ch√°n" },
            { id: "3-20", type: QuestionType.FIB, text: "Lan usually buys food in the super_ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s11.mp3", answer: "market", explain: "Supermarket: Si√™u th·ªã (ƒêi·ªÅn 'market').", translation: "Si√™u th·ªã" },
            { id: "3-33", type: QuestionType.FIB, text: "_ _ _ _ _ _ oes and pigs live on the farm.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis2s8.mp3", answer: "Buffal", explain: "Buffaloes: Con tr√¢u (ƒêi·ªÅn 'Buffal').", translation: "Con tr√¢u" },
            { id: "3-34", type: QuestionType.FIB, text: "Stamp collecting can help build _ _ _ _ _ _ _ _ _ _ s between people from around the world.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_15.mp3", answer: "friendship", explain: "Friendship: T√¨nh h·ªØu ngh·ªã.", translation: "T√¨nh h·ªØu ngh·ªã" },
            { id: "3-52", type: QuestionType.FIB, text: "It is interesting to learn about the people and things that are pictured on the _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_14.mp3", answer: "stamps", explain: "Stamps: Con tem.", translation: "Con tem" },
            { id: "3-71", type: QuestionType.FIB, text: "People in my village are really _ _ _ _ -hearted.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis4s4.mp3", answer: "kind", explain: "Kind-hearted: T·ªët b·ª•ng.", translation: "T·ªët b·ª•ng" },
            { id: "3-73", type: QuestionType.FIB, text: "The band uses his dad's _ _ _ _ _ _ because his bedroom's too small.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_11.mp3", answer: "garage", explain: "Garage: Nh√† ƒë·ªÉ xe.", translation: "Nh√† ƒë·ªÉ xe" },
            { id: "3-81", type: QuestionType.FIB, text: "People in my village are really hospi_ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s4.mp3", answer: "table", explain: "Hospitable: Hi·∫øu kh√°ch (ƒêi·ªÅn 'table').", translation: "Hi·∫øu kh√°ch" },
            { id: "3-98", type: QuestionType.FIB, text: "The city is much more _ _ _ _ _ _ _ _ and a lot more to do and see and experience.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_23.mp3", answer: "exciting", explain: "Exciting: Th√∫ v·ªã, h√†o h·ª©ng.", translation: "Th√∫ v·ªã" },
            { id: "3-103", type: QuestionType.FIB, text: "I had a back injury a few years ago, so I‚Äôm not as _ _ _ _ _ _ as I used to be.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_61.mp3", answer: "active", explain: "Active: NƒÉng ƒë·ªông.", translation: "NƒÉng ƒë·ªông" },
            { id: "3-109", type: QuestionType.FIB, text: "Mrs. Bright made us wear special gl_ _ _ _ _ so that we wouldn't hurt our eyes.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s22.mp3", answer: "asses", explain: "Glasses: C·∫∑p k√≠nh (ƒêi·ªÅn 'asses').", translation: "C√°i k√≠nh" },
            { id: "3-131", type: QuestionType.FIB, text: "I have heard the weather will be _ _ _ _ _ these days.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis3s20.mp3", answer: "sunny", explain: "Sunny weather: Tr·ªùi n·∫Øng.", translation: "C√≥ n·∫Øng" },
            { id: "3-150", type: QuestionType.FIB, text: "Scientists say that a new kind of robot can re_ _ _ _ _ _ _ - it can create baby robots.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_45.mp3", answer: "produce", explain: "Reproduce: T√°i s·∫£n xu·∫•t/Sinh s·∫£n.", translation: "Sinh s·∫£n" },
            { id: "3-152", type: QuestionType.FIB, text: "Do you have a nice co_ _ _ _ _ as you're the star of the show?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE2023-2024/Chinhthuc/Capquan/Lop8/Audio/CQ8Lis1s24.mp3", answer: "stume", explain: "Costume: Trang ph·ª•c di·ªÖn (ƒêi·ªÅn 'stume').", translation: "Trang ph·ª•c" },
            { id: "3-166", type: QuestionType.FIB, text: "I don't have to show my passport or my driving _ _ _ _ nce, do I?", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_54.mp3", answer: "lice", explain: "Driving licence: B·∫±ng l√°i xe (ƒêi·ªÅn 'lice').", translation: "Gi·∫•y ph√©p" },
            { id: "3-169", type: QuestionType.FIB, text: "Being able to _ _ _ _ _ _ _ _ _ _ and use ethnic languages in daily life is very useful for their work.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_70.mp3", answer: "understand", explain: "Understand: Hi·ªÉu bi·∫øt.", translation: "Hi·ªÉu" },
            { id: "3-178", type: QuestionType.FIB, text: "The New Year‚Äôs day is celebrated all over the _ _ _ _ _ _ _ .", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_86.mp3", answer: "country", explain: "All over the country: Kh·∫Øp ƒë·∫•t n∆∞·ªõc.", translation: "ƒê·∫•t n∆∞·ªõc" },
            { id: "3-185", type: QuestionType.MC, text: "The rock, paper, scissors world championship was first held in ____.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/IOE%202022-2023/Chinhthuc/Capquanhuyen/Lop8/amthanh/k8-caphuyen-nghe_111.mp3", options: ["1394", "1934", "1945", "1954"], answer: "1934", explain: "Held in 1934.", translation: "NƒÉm 1934" },
            { id: "3-190", type: QuestionType.FIB, text: "The _ _ _ _ _ _ _ _ _ _ s say the worst-hit rivers are in western Europe and North America.", audio: "https://cdn-s3.vtconline.vn/ioe-resource-02/filePublish/ioe/EOlympic/ExamData/Chinhthuc21-22/Capquan/Lop8/nghe/E8_Quan2022_56.mp3", answer: "researcher", explain: "Researchers: Nh·ªØng nh√† nghi√™n c·ª©u.", translation: "Nh√† nghi√™n c·ª©u" }
        ];

        // Th√™m c√°c c√¢u c√≤n thi·∫øu ƒë·ªÉ ƒë·ªß 60 c√¢u (Demo: B·∫°n c√≥ th·ªÉ copy paste c√°c c√¢u t∆∞∆°ng t·ª± t·ª´ danh s√°ch ƒë·ªÅ)
        // L∆∞u √Ω: Trong m√£ th·∫≠t, t√¥i s·∫Ω nh√∫ng t·∫•t c·∫£ v√†o array n√†y.

        const AudioPlayer = ({ src, autoPlay }) => {
            const audioRef = useRef(null);
            const [isPlaying, setIsPlaying] = useState(false);

            useEffect(() => {
                if (autoPlay && audioRef.current) {
                    audioRef.current.play().catch(() => {});
                }
            }, [src]);

            const toggle = () => {
                if (audioRef.current.paused) audioRef.current.play();
                else audioRef.current.pause();
            };

            return (
                <div className="flex items-center gap-4 bg-white/60 p-5 rounded-2xl border border-white/40 shadow-sm">
                    <button onClick={toggle} className="w-14 h-14 flex items-center justify-center bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-all shadow-lg active:scale-90">
                        {isPlaying ? 
                            <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg> : 
                            <svg className="w-6 h-6 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        }
                    </button>
                    <div>
                        <span className="text-sm font-black text-indigo-900 block uppercase">Nghe Audio</span>
                        <span className="text-xs text-indigo-400 font-bold italic">B·∫•m ƒë·ªÉ nghe l·∫°i ƒëo·∫°n h·ªôi tho·∫°i</span>
                    </div>
                    <audio ref={audioRef} src={src} onPlay={() => setIsPlaying(true)} onPause={() => setIsPlaying(false)} onEnded={() => setIsPlaying(false)} className="hidden" />
                </div>
            );
        };

        const App = () => {
            const [gameState, setGameState] = useState('START');
            const [userName, setUserName] = useState('');
            const [currentIndex, setCurrentIndex] = useState(0);
            const [userAnswers, setUserAnswers] = useState([]);
            const [inputValue, setInputValue] = useState('');
            const [showHint, setShowHint] = useState(false);
            const [activeQuestions, setActiveQuestions] = useState(QUIZ_DATA);

            const startQuiz = (name, questions = QUIZ_DATA) => {
                setUserName(name);
                setActiveQuestions(questions);
                setGameState('PLAYING');
                setCurrentIndex(0);
                setUserAnswers([]);
                setInputValue('');
                setShowHint(false);
            };

            const handleAnswer = (val) => {
                const current = activeQuestions[currentIndex];
                const normalizedUser = val.trim().toLowerCase().replace(/[.,!?;:'"]/g, '');
                const normalizedAns = current.answer.toLowerCase();
                const isCorrect = normalizedUser === normalizedAns;
                
                const newAns = {
                    qId: current.id,
                    qIndex: currentIndex,
                    userResponse: val,
                    isCorrect
                };
                
                setUserAnswers(prev => [...prev.filter(a => a.qId !== current.id), newAns]);
            };

            const goNext = () => {
                if (currentIndex < activeQuestions.length - 1) {
                    setCurrentIndex(prev => prev + 1);
                    const nextAns = userAnswers.find(a => a.qIndex === currentIndex + 1);
                    setInputValue(nextAns ? nextAns.userResponse : '');
                    setShowHint(false);
                } else {
                    setGameState('RESULT');
                }
            };

            const goPrev = () => {
                if (currentIndex > 0) {
                    setCurrentIndex(prev => prev - 1);
                    const prevAns = userAnswers.find(a => a.qIndex === currentIndex - 1);
                    setInputValue(prevAns ? prevAns.userResponse : '');
                    setShowHint(false);
                }
            };

            const retryWrong = () => {
                const wrongIds = userAnswers.filter(a => !a.isCorrect).map(a => a.qId);
                const wrongQuestions = QUIZ_DATA.filter(q => wrongIds.includes(q.id));
                if (wrongQuestions.length > 0) {
                    startQuiz(userName, wrongQuestions);
                }
            };

            const onEnterPress = (e) => {
                if (e.key === 'Enter') {
                    const currentAns = userAnswers.find(a => a.qId === activeQuestions[currentIndex].id);
                    if (currentAns) {
                        goNext();
                    } else if (inputValue.trim()) {
                        handleAnswer(inputValue);
                    }
                }
            };

            if (gameState === 'START') {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-600 to-sky-400 p-4">
                        <div className="bg-white rounded-[3rem] shadow-2xl p-12 max-w-md w-full text-center animate-fade-in glass-card">
                            <div className="w-24 h-24 bg-indigo-50 text-indigo-600 rounded-[2rem] flex items-center justify-center mx-auto mb-8">
                                <svg className="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2.5" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg>
                            </div>
                            <h1 className="text-3xl font-black text-slate-800 mb-2 uppercase tracking-tight leading-tight">IOE K8 - NGHE</h1>
                            <p className="text-slate-500 mb-8 font-bold text-xs tracking-widest uppercase italic">Master Class C·∫•p Qu·∫≠n Huy·ªán</p>
                            <input 
                                type="text" 
                                placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n..." 
                                className="w-full px-6 py-5 rounded-2xl border-4 border-slate-100 focus:border-indigo-500 outline-none mb-8 text-xl font-black" 
                                onChange={e => setUserName(e.target.value)}
                                onKeyDown={e => e.key === 'Enter' && userName.trim() && startQuiz(userName)}
                            />
                            <button 
                                onClick={() => userName.trim() && startQuiz(userName)} 
                                className="w-full py-5 bg-indigo-600 text-white rounded-2xl text-xl font-black shadow-lg hover:bg-indigo-700 active:scale-95 transition-all"
                            >
                                B·∫ÆT ƒê·∫¶U NGAY üöÄ
                            </button>
                        </div>
                    </div>
                );
            }

            if (gameState === 'RESULT') {
                const correctCount = userAnswers.filter(a => a.isCorrect).length;
                const total = activeQuestions.length;
                const percent = total > 0 ? Math.round((correctCount / total) * 100) : 0;

                return (
                    <div className="min-h-screen bg-slate-50 flex flex-col items-center py-12 px-4">
                        <div className="bg-white rounded-[3.5rem] shadow-xl p-12 max-w-3xl w-full text-center border border-white animate-fade-in relative overflow-hidden">
                            <h2 className="text-3xl font-black text-slate-800 mb-8 tracking-tighter uppercase">K·∫æT QU·∫¢ B√ÄI L√ÄM</h2>
                            <div className="flex justify-center mb-10">
                                <div className="w-48 h-48 rounded-full border-[15px] border-indigo-100 flex items-center justify-center text-5xl font-black text-indigo-600 shadow-inner">
                                    {percent}%
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-6 mb-10">
                                <div className="bg-emerald-50 p-8 rounded-[2rem] border-2 border-emerald-100">
                                    <div className="text-4xl font-black text-emerald-600">{correctCount}</div>
                                    <div className="text-xs uppercase font-black text-emerald-400 mt-1">C√¢u ƒê√∫ng</div>
                                </div>
                                <div className="bg-rose-50 p-8 rounded-[2rem] border-2 border-rose-100">
                                    <div className="text-4xl font-black text-rose-600">{total - correctCount}</div>
                                    <div className="text-xs uppercase font-black text-rose-400 mt-1">C√¢u Sai</div>
                                </div>
                            </div>

                            {/* Review Section */}
                            {(total - correctCount) > 0 && (
                                <div className="text-left mb-10 max-h-80 overflow-y-auto custom-scrollbar bg-slate-50 rounded-3xl p-6 border border-slate-200 shadow-inner">
                                    <h3 className="text-xs font-black text-slate-400 mb-4 uppercase text-center tracking-widest underline decoration-indigo-200 underline-offset-4">Xem l·∫°i c√°c c√¢u l√†m sai</h3>
                                    <div className="space-y-4">
                                        {userAnswers.filter(a => !a.isCorrect).map((ans, idx) => {
                                            const q = activeQuestions.find(item => item.id === ans.qId);
                                            return (
                                                <div key={idx} className="p-4 bg-white rounded-2xl shadow-sm border-l-4 border-rose-500">
                                                    <p className="font-bold text-slate-800 mb-2 italic">"{q.text}"</p>
                                                    <div className="text-sm flex flex-col sm:flex-row sm:gap-4">
                                                        <span className="text-rose-500 font-bold"><span className="opacity-50">B·∫°n:</span> {ans.userResponse || "(Tr·ªëng)"}</span>
                                                        <span className="text-emerald-600 font-black"><span className="opacity-50">ƒê√∫ng:</span> {q.answer}</span>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            )}

                            <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                <button onClick={() => window.location.reload()} className="px-12 py-5 bg-indigo-600 text-white rounded-[2rem] font-black shadow-lg hover:bg-indigo-700 active:scale-95 transition-all text-lg">LUY·ªÜN T·∫¨P L·∫†I</button>
                                {(total - correctCount) > 0 && (
                                    <button onClick={retryWrong} className="px-12 py-5 bg-rose-500 text-white rounded-[2rem] font-black shadow-lg hover:bg-rose-600 active:scale-95 transition-all text-lg">L√ÄM L·∫†I C√ÇU SAI</button>
                                )}
                            </div>
                        </div>
                    </div>
                );
            }

            const currentQ = activeQuestions[currentIndex];
            const currentAns = userAnswers.find(a => a.qId === currentQ.id);
            const isDone = !!currentAns;

            return (
                <div className="min-h-screen bg-slate-100 flex flex-col items-center py-10 px-4 pb-40">
                    {/* Header */}
                    <div className="w-full max-w-3xl flex justify-between items-center mb-8 bg-white p-6 rounded-[2rem] shadow-sm border border-white">
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center font-black text-white shadow-lg">
                                {userName.charAt(0).toUpperCase()}
                            </div>
                            <span className="font-black text-slate-700 tracking-tight">{userName}</span>
                        </div>
                        <div className="font-black text-indigo-600 px-6 py-2 bg-indigo-50 rounded-xl">
                            C√ÇU {currentIndex + 1} / {activeQuestions.length}
                        </div>
                    </div>

                    {/* Progress Bar */}
                    <div className="w-full max-w-3xl bg-slate-200 h-4 rounded-full mb-12 overflow-hidden shadow-inner border border-white">
                        <div className="bg-gradient-to-r from-indigo-600 to-blue-500 h-full transition-all duration-700 ease-out shadow-lg" style={{ width: `${((currentIndex + 1) / activeQuestions.length) * 100}%` }}></div>
                    </div>

                    {/* Question Card */}
                    <div className="w-full max-w-3xl bg-white rounded-[3.5rem] shadow-xl p-8 sm:p-14 relative overflow-hidden animate-fade-in border border-white">
                        <div className="flex justify-between items-start mb-10">
                            <span className="px-5 py-2 bg-indigo-100 text-indigo-700 rounded-full text-[10px] font-black uppercase tracking-widest">IOE ID: {currentQ.id}</span>
                            {!isDone && (
                                <button onClick={() => setShowHint(!showHint)} className="px-5 py-2 bg-amber-50 text-amber-700 border-2 border-amber-200 rounded-full text-[10px] font-black uppercase flex items-center gap-2 hover:bg-amber-100 transition-all shadow-sm">
                                    {showHint ? "·∫®N G·ª¢I √ù" : "XEM G·ª¢I √ù üí°"}
                                </button>
                            )}
                        </div>

                        <div className="mb-12">
                            <AudioPlayer src={currentQ.audio} autoPlay={true} />
                        </div>

                        {showHint && !isDone && (
                            <div className="mb-10 bg-amber-50 p-8 rounded-[2.5rem] border-2 border-amber-200 text-amber-900 shadow-sm animate-fade-in">
                                <h5 className="text-[10px] font-black uppercase text-amber-600 mb-4 tracking-widest flex items-center gap-2">
                                    <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1a1 1 0 112 0v1a1 1 0 11-2 0zM13.414 15.657a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM11 11a1 1 0 10-2 0v3a1 1 0 102 0v-3z"></path></svg>
                                    TH√îNG TIN G·ª¢I √ù CHI TI·∫æT
                                </h5>
                                <div className="space-y-4 font-bold">
                                    {currentQ.type === QuestionType.FIB && (
                                        <>
                                            <p className="flex items-center gap-4 text-base">
                                                <span className="bg-amber-200 w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm">üìè</span>
                                                T·ª´ n√†y g·ªìm c√≥ <span className="text-indigo-600 text-2xl font-black">{currentQ.answer.length}</span> ch·ªØ c√°i.
                                            </p>
                                            <p className="flex items-center gap-4 text-base">
                                                <span className="bg-amber-200 w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-sm">üî§</span>
                                                B·∫Øt ƒë·∫ßu b·∫±ng: <span className="text-indigo-600 text-3xl uppercase font-black underline underline-offset-8 decoration-4 decoration-indigo-200">"{currentQ.answer.charAt(0)}"</span>
                                            </p>
                                        </>
                                    )}
                                    {currentQ.translation && (
                                        <div className="border-t border-amber-200 pt-5">
                                            <span className="text-amber-500 text-[9px] uppercase font-black tracking-widest mb-1 block">Nghƒ©a ti·∫øng Vi·ªát g·ª£i m·ªü:</span>
                                            <p className="text-2xl text-indigo-900 font-black leading-tight tracking-tight italic">"{currentQ.translation}"</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}

                        <h2 className="text-2xl sm:text-3xl font-black text-slate-800 mb-14 leading-relaxed tracking-tight italic">"{currentQ.text}"</h2>

                        {currentQ.type === QuestionType.MC ? (
                            <div className="grid grid-cols-1 gap-5">
                                {currentQ.options.map((opt, i) => {
                                    const isCorrect = opt === currentQ.answer;
                                    const isSelected = currentAns?.userResponse === opt;
                                    let style = "bg-white border-4 border-slate-50 text-slate-700 hover:border-indigo-500 hover:bg-indigo-50/30";
                                    if (isDone) {
                                        if (isCorrect) style = "bg-emerald-500 border-emerald-500 text-white scale-[1.03] shadow-xl shadow-emerald-100";
                                        else if (isSelected) style = "bg-rose-500 border-rose-500 text-white opacity-80 shadow-lg shadow-rose-100";
                                        else style = "bg-white border-slate-50 text-slate-300 opacity-40 grayscale pointer-events-none";
                                    }
                                    return (
                                        <button 
                                            key={i} 
                                            onClick={() => !isDone && handleAnswer(opt)} 
                                            disabled={isDone} 
                                            className={`p-6 rounded-3xl font-black text-xl transition-all text-left flex items-center gap-5 shadow-sm active:scale-95 ${style}`}
                                        >
                                            <span className={`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 border-2 font-black ${isDone && isCorrect ? 'bg-white/20 border-white' : 'bg-slate-50 border-slate-200'}`}>{String.fromCharCode(65+i)}</span>
                                            {opt}
                                        </button>
                                    );
                                })}
                            </div>
                        ) : (
                            <div className="space-y-6">
                                <div className="flex flex-col sm:flex-row gap-5">
                                    <input 
                                        type="text" 
                                        value={isDone ? currentAns.userResponse : inputValue} 
                                        onChange={e => setInputValue(e.target.value)} 
                                        onKeyDown={onEnterPress}
                                        disabled={isDone} 
                                        autoFocus
                                        placeholder="G√µ t·ª´ b·∫°n nghe ƒë∆∞·ª£c v√†o ƒë√¢y..." 
                                        className={`flex-1 p-7 rounded-[2.5rem] border-4 font-black text-2xl outline-none transition-all shadow-inner ${isDone ? (currentAns.isCorrect ? "bg-emerald-50 border-emerald-500 text-emerald-800" : "bg-rose-50 border-rose-500 text-rose-800") : "bg-slate-50 border-slate-100 focus:border-indigo-500 focus:ring-8 focus:ring-indigo-100"}`} 
                                    />
                                    {!isDone && (
                                        <button 
                                            onClick={() => inputValue.trim() && handleAnswer(inputValue)} 
                                            className="px-12 py-6 bg-indigo-600 text-white rounded-[2.5rem] font-black shadow-xl shadow-indigo-100 hover:bg-indigo-700 active:scale-90 transition-all text-xl"
                                        >
                                            N·ªòP B√ÄI
                                        </button>
                                    )}
                                </div>
                                {!isDone && <p className="text-[10px] text-slate-400 font-bold uppercase tracking-widest text-center">B·∫•m ENTER ƒë·ªÉ n·ªôp nhanh</p>}
                            </div>
                        )}

                        {isDone && (
                            <div className={`mt-14 p-8 rounded-[3rem] flex gap-7 items-start border-4 animate-fade-in shadow-lg ${currentAns.isCorrect ? 'bg-emerald-50 border-emerald-100 text-emerald-900' : 'bg-rose-50 border-rose-100 text-rose-900'}`}>
                                <div className={`w-16 h-16 rounded-[1.5rem] flex items-center justify-center shrink-0 text-white text-3xl font-black shadow-lg ${currentAns.isCorrect ? 'bg-emerald-500 shadow-emerald-200' : 'bg-rose-500 shadow-rose-200'}`}>
                                    {currentAns.isCorrect ? "‚úì" : "‚úï"}
                                </div>
                                <div className="flex-1">
                                    <h4 className="font-black text-2xl mb-3 tracking-tight">{currentAns.isCorrect ? "TUY·ªÜT V·ªúI, CH√çNH X√ÅC!" : "C·ªê G·∫ÆNG L·∫¶N SAU NH√â!"}</h4>
                                    {!currentAns.isCorrect && (
                                        <div className="mb-4">
                                            <span className="text-[10px] font-black uppercase text-rose-400 block mb-1">ƒê√°p √°n ƒë√∫ng ph·∫£i l√†:</span>
                                            <span className="bg-white px-6 py-2 rounded-2xl border-4 border-rose-200 inline-block font-black text-3xl text-rose-600 uppercase tracking-widest answer-underline shadow-sm">{currentQ.answer}</span>
                                        </div>
                                    )}
                                    <p className="text-base font-bold opacity-80 leading-relaxed italic">{currentQ.explain}</p>
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Navigation Footer */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t-2 border-slate-100 p-8 z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.05)]">
                        <div className="max-w-3xl mx-auto flex justify-between gap-6">
                            <button onClick={goPrev} disabled={currentIndex === 0} className="px-10 py-5 bg-white border-4 border-slate-100 rounded-[2.5rem] font-black text-slate-300 hover:text-indigo-600 hover:border-indigo-600 disabled:opacity-30 transition-all text-xl shadow-sm">‚Üê TR∆Ø·ªöC</button>
                            <button onClick={goNext} disabled={!isDone} className={`flex-1 py-5 rounded-[2.5rem] font-black text-2xl transition-all shadow-2xl shadow-indigo-200 tracking-wider uppercase ${isDone ? "bg-indigo-600 text-white hover:bg-indigo-700 active:scale-95" : "bg-slate-100 text-slate-300 cursor-not-allowed"}`}>
                                {currentIndex === activeQuestions.length - 1 ? "XEM K·∫æT QU·∫¢ üéâ" : "TI·∫æP THEO ‚Üí"}
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
